"use client";
import { Divider, Drawer, Menu } from "antd";
import {
  ShoppingOutlined,
  MenuOutlined,
  CommentOutlined,
  HomeOutlined,
  QuestionCircleOutlined,
  ShopOutlined,
} from "@ant-design/icons";
import { useState } from "react";
import styles from "./Header.module.css";
import CartDrawer from "../CardDrawer/CardDrawer";
import { useCart } from "@/app/context/CartContext";
import { useRouter } from "next/navigation";

const Header = () => {
  const [drawerVisible, setDrawerVisible] = useState(false);
  const { openCartModal, cartItems } = useCart();
  const showDrawer = () => {
    setDrawerVisible(true);
  };

  const closeDrawer = () => {
    setDrawerVisible(false);
  };
  const router = useRouter();
  return (
    <header className={styles.header}>
      <div className={styles.logoSection}>
        <div className={styles.logo} onClick={() => router.push("/")}>
          <svg
            role="img"
            aria-label="Shakeshack"
            width="36"
            height="38"
            viewBox="0 0 36 38"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M18.1023 1.99323C12.043 1.99323 8.38539 3.97849 6.38335 5.64284C3.84783 7.75268 2.94819 10.1396 2.94819 11.5418C2.94819 12.4467 3.25726 12.9052 3.86653 12.9052H32.338C32.9473 12.9052 33.2573 12.4467 33.2573 11.5418C33.2573 10.1396 32.3577 7.75268 29.8212 5.64284C27.8192 3.97849 24.1615 1.99323 18.1023 1.99323ZM32.336 14.8984H3.86453C2.13711 14.8984 0.977621 13.55 0.977621 11.5418C0.977621 9.61636 2.06821 6.65043 5.13131 4.10307C7.38238 2.23143 11.4583 0 18.1003 0C24.7422 0 28.8192 2.23143 31.0692 4.10307C34.1323 6.65043 35.2239 9.61636 35.2239 11.5418C35.2239 13.55 34.0634 14.8984 32.336 14.8984ZM32.914 17.9451C33.411 18.4982 33.6532 18.7434 34.2044 18.7434C34.7487 18.7434 35.1887 19.1899 35.1887 19.74C35.1887 20.2911 34.7487 20.7366 34.2044 20.7366C32.762 20.7366 32.0101 19.9004 31.4601 19.2888L31.4572 19.2856C30.9611 18.7324 30.718 18.4873 30.1678 18.4873C29.6176 18.4873 29.3755 18.7324 28.8784 19.2856L28.8744 19.29C28.3245 19.9015 27.5737 20.7366 26.1322 20.7366C24.6883 20.7366 23.9363 19.8975 23.388 19.2846C22.892 18.7314 22.6498 18.4873 22.1016 18.4873C21.5533 18.4873 21.3112 18.7314 20.8161 19.2846C20.2679 19.8975 19.5159 20.7366 18.0729 20.7366C16.6299 20.7366 15.8779 19.8975 15.3287 19.2846C14.8336 18.7314 14.5925 18.4873 14.0452 18.4873C13.4969 18.4873 13.2548 18.7314 12.7587 19.2846C12.2105 19.8975 11.4595 20.7366 10.0155 20.7366C8.57157 20.7366 7.81957 19.8975 7.27231 19.2846C6.77623 18.7314 6.53409 18.4873 5.98585 18.4873C5.4376 18.4873 5.19546 18.7314 4.69938 19.2846C4.15212 19.8975 3.40012 20.7366 1.95617 20.7366C1.41285 20.7366 0.971886 20.2911 0.971886 19.74C0.971886 19.1899 1.41285 18.7434 1.95617 18.7434C2.50442 18.7434 2.74656 18.4992 3.24264 17.9461C3.79088 17.3332 4.5419 16.494 5.98585 16.494C7.42979 16.494 8.18179 17.3332 8.72905 17.9461C9.22513 18.4992 9.46727 18.7434 10.0155 18.7434C10.5628 18.7434 10.8059 18.4992 11.301 17.9461C11.8492 17.3332 12.6012 16.494 14.0452 16.494C15.4872 16.494 16.2392 17.3332 16.7884 17.9461C17.2835 18.4992 17.5256 18.7434 18.0729 18.7434C18.6211 18.7434 18.8623 18.4992 19.3574 17.9461L19.3585 17.9449C19.9076 17.3321 20.6586 16.494 22.1016 16.494C23.5455 16.494 24.2965 17.3332 24.8448 17.9461C25.3409 18.4982 25.583 18.7434 26.1322 18.7434C26.6815 18.7434 26.9246 18.4982 27.4207 17.9451L27.4224 17.9431C27.9725 17.3314 28.7254 16.494 30.1678 16.494C31.6127 16.494 32.3647 17.3322 32.914 17.9451ZM3.48116 24.2297C3.07564 24.2297 2.74492 24.5646 2.74492 24.9752V25.4227C2.74492 25.8333 3.07564 26.1681 3.48116 26.1681H32.2509C32.6564 26.1681 32.9871 25.8333 32.9871 25.4227V24.9752C32.9871 24.5646 32.6564 24.2297 32.2509 24.2297H3.48116ZM32.2509 28.1619H3.48113C1.98895 28.1619 0.776306 26.9341 0.776306 25.4232V24.9757C0.776306 23.4649 1.98895 22.237 3.48113 22.237H32.2509C33.7421 22.237 34.9557 23.4649 34.9557 24.9757V25.4232C34.9557 26.9341 33.7421 28.1619 32.2509 28.1619ZM32.5447 35.4352C32.1815 35.8199 31.6372 36.0062 30.8822 36.0062H5.14113C4.38618 36.0062 3.84187 35.8199 3.47965 35.4352C2.89302 34.8143 2.84873 33.7539 2.87432 33.1758C2.92058 32.1384 4.19523 32.1274 4.24937 32.1274H31.775C31.8281 32.1274 33.1018 32.1384 33.149 33.1758C33.1756 33.7539 33.1313 34.8133 32.5447 35.4352ZM31.7755 30.1347H4.24996C2.65541 30.1347 0.994922 31.1483 0.908305 33.0877C0.860075 34.18 1.01953 35.7138 2.05598 36.813C2.8001 37.6013 3.83853 38 5.14172 38H30.8828C32.186 38 33.2234 37.6003 33.9675 36.813C35.006 35.7128 35.1654 34.179 35.1162 33.0867C35.0276 31.1483 33.3691 30.1347 31.7755 30.1347Z"
              fill="#6DB23F"
            ></path>
          </svg>
        </div>
        <div className={styles.pickup}>
          <span>Burgers by</span>
          <div className={styles.pickupLocation}>Pavic</div>
        </div>
      </div>
      <nav className={styles.navLinks}>
        <div onClick={() => router.push("/")}>Menu</div>
        <div onClick={() => router.push("/accesories")}>Accesories</div>
        <div onClick={() => router.push("/reviews")}>Reviews</div>
        <div onClick={() => router.push("/help")}>Help</div>
        <Divider style={{ margin: 0, padding: 0 }} type="vertical" />
        <div className={styles.actions}>
          <button
            className={styles.iconButtonCart}
            onClick={openCartModal}
            data-count={cartItems.length}
          >
            <ShoppingOutlined className={styles.icon} />
          </button>
        </div>
      </nav>
      <div className={styles.mobileMenu}>
        <div
          style={{
            display: "flex",
            flexDirection: "row",
            alignItems: "center",
            gap: "15px",
          }}
        >
          <svg
            role="img"
            aria-label="Shakeshack"
            width="36"
            height="38"
            viewBox="0 0 36 38"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            onClick={() => router.push("/")}
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M18.1023 1.99323C12.043 1.99323 8.38539 3.97849 6.38335 5.64284C3.84783 7.75268 2.94819 10.1396 2.94819 11.5418C2.94819 12.4467 3.25726 12.9052 3.86653 12.9052H32.338C32.9473 12.9052 33.2573 12.4467 33.2573 11.5418C33.2573 10.1396 32.3577 7.75268 29.8212 5.64284C27.8192 3.97849 24.1615 1.99323 18.1023 1.99323ZM32.336 14.8984H3.86453C2.13711 14.8984 0.977621 13.55 0.977621 11.5418C0.977621 9.61636 2.06821 6.65043 5.13131 4.10307C7.38238 2.23143 11.4583 0 18.1003 0C24.7422 0 28.8192 2.23143 31.0692 4.10307C34.1323 6.65043 35.2239 9.61636 35.2239 11.5418C35.2239 13.55 34.0634 14.8984 32.336 14.8984ZM32.914 17.9451C33.411 18.4982 33.6532 18.7434 34.2044 18.7434C34.7487 18.7434 35.1887 19.1899 35.1887 19.74C35.1887 20.2911 34.7487 20.7366 34.2044 20.7366C32.762 20.7366 32.0101 19.9004 31.4601 19.2888L31.4572 19.2856C30.9611 18.7324 30.718 18.4873 30.1678 18.4873C29.6176 18.4873 29.3755 18.7324 28.8784 19.2856L28.8744 19.29C28.3245 19.9015 27.5737 20.7366 26.1322 20.7366C24.6883 20.7366 23.9363 19.8975 23.388 19.2846C22.892 18.7314 22.6498 18.4873 22.1016 18.4873C21.5533 18.4873 21.3112 18.7314 20.8161 19.2846C20.2679 19.8975 19.5159 20.7366 18.0729 20.7366C16.6299 20.7366 15.8779 19.8975 15.3287 19.2846C14.8336 18.7314 14.5925 18.4873 14.0452 18.4873C13.4969 18.4873 13.2548 18.7314 12.7587 19.2846C12.2105 19.8975 11.4595 20.7366 10.0155 20.7366C8.57157 20.7366 7.81957 19.8975 7.27231 19.2846C6.77623 18.7314 6.53409 18.4873 5.98585 18.4873C5.4376 18.4873 5.19546 18.7314 4.69938 19.2846C4.15212 19.8975 3.40012 20.7366 1.95617 20.7366C1.41285 20.7366 0.971886 20.2911 0.971886 19.74C0.971886 19.1899 1.41285 18.7434 1.95617 18.7434C2.50442 18.7434 2.74656 18.4992 3.24264 17.9461C3.79088 17.3332 4.5419 16.494 5.98585 16.494C7.42979 16.494 8.18179 17.3332 8.72905 17.9461C9.22513 18.4992 9.46727 18.7434 10.0155 18.7434C10.5628 18.7434 10.8059 18.4992 11.301 17.9461C11.8492 17.3332 12.6012 16.494 14.0452 16.494C15.4872 16.494 16.2392 17.3332 16.7884 17.9461C17.2835 18.4992 17.5256 18.7434 18.0729 18.7434C18.6211 18.7434 18.8623 18.4992 19.3574 17.9461L19.3585 17.9449C19.9076 17.3321 20.6586 16.494 22.1016 16.494C23.5455 16.494 24.2965 17.3332 24.8448 17.9461C25.3409 18.4982 25.583 18.7434 26.1322 18.7434C26.6815 18.7434 26.9246 18.4982 27.4207 17.9451L27.4224 17.9431C27.9725 17.3314 28.7254 16.494 30.1678 16.494C31.6127 16.494 32.3647 17.3322 32.914 17.9451ZM3.48116 24.2297C3.07564 24.2297 2.74492 24.5646 2.74492 24.9752V25.4227C2.74492 25.8333 3.07564 26.1681 3.48116 26.1681H32.2509C32.6564 26.1681 32.9871 25.8333 32.9871 25.4227V24.9752C32.9871 24.5646 32.6564 24.2297 32.2509 24.2297H3.48116ZM32.2509 28.1619H3.48113C1.98895 28.1619 0.776306 26.9341 0.776306 25.4232V24.9757C0.776306 23.4649 1.98895 22.237 3.48113 22.237H32.2509C33.7421 22.237 34.9557 23.4649 34.9557 24.9757V25.4232C34.9557 26.9341 33.7421 28.1619 32.2509 28.1619ZM32.5447 35.4352C32.1815 35.8199 31.6372 36.0062 30.8822 36.0062H5.14113C4.38618 36.0062 3.84187 35.8199 3.47965 35.4352C2.89302 34.8143 2.84873 33.7539 2.87432 33.1758C2.92058 32.1384 4.19523 32.1274 4.24937 32.1274H31.775C31.8281 32.1274 33.1018 32.1384 33.149 33.1758C33.1756 33.7539 33.1313 34.8133 32.5447 35.4352ZM31.7755 30.1347H4.24996C2.65541 30.1347 0.994922 31.1483 0.908305 33.0877C0.860075 34.18 1.01953 35.7138 2.05598 36.813C2.8001 37.6013 3.83853 38 5.14172 38H30.8828C32.186 38 33.2234 37.6003 33.9675 36.813C35.006 35.7128 35.1654 34.179 35.1162 33.0867C35.0276 31.1483 33.3691 30.1347 31.7755 30.1347Z"
              fill="#6DB23F"
            ></path>
          </svg>
          <button className={styles.iconButton} onClick={showDrawer}>
            <MenuOutlined className={styles.icon} />
          </button>
          <div className={styles.pickup}>
            <span>Burgers by</span>
            <div className={styles.pickupLocation}>Pavic</div>
          </div>
        </div>
        <div
          style={{
            display: "flex",
            flexDirection: "row",
            alignItems: "center",
            gap: "15px",
          }}
        >
          <button
            className={styles.iconButtonCart}
            onClick={openCartModal}
            data-count={cartItems.length}
          >
            <ShoppingOutlined className={styles.icon} />
          </button>
        </div>
        <Drawer
          title={
            <div style={{ display: "flex", alignItems: "center", gap: "10px" }}>
              <svg
                role="img"
                aria-label="Shakeshack"
                width="36"
                height="38"
                viewBox="0 0 36 38"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                onClick={() => router.push("/")}
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M18.1023 1.99323C12.043 1.99323 8.38539 3.97849 6.38335 5.64284C3.84783 7.75268 2.94819 10.1396 2.94819 11.5418C2.94819 12.4467 3.25726 12.9052 3.86653 12.9052H32.338C32.9473 12.9052 33.2573 12.4467 33.2573 11.5418C33.2573 10.1396 32.3577 7.75268 29.8212 5.64284C27.8192 3.97849 24.1615 1.99323 18.1023 1.99323ZM32.336 14.8984H3.86453C2.13711 14.8984 0.977621 13.55 0.977621 11.5418C0.977621 9.61636 2.06821 6.65043 5.13131 4.10307C7.38238 2.23143 11.4583 0 18.1003 0C24.7422 0 28.8192 2.23143 31.0692 4.10307C34.1323 6.65043 35.2239 9.61636 35.2239 11.5418C35.2239 13.55 34.0634 14.8984 32.336 14.8984ZM32.914 17.9451C33.411 18.4982 33.6532 18.7434 34.2044 18.7434C34.7487 18.7434 35.1887 19.1899 35.1887 19.74C35.1887 20.2911 34.7487 20.7366 34.2044 20.7366C32.762 20.7366 32.0101 19.9004 31.4601 19.2888L31.4572 19.2856C30.9611 18.7324 30.718 18.4873 30.1678 18.4873C29.6176 18.4873 29.3755 18.7324 28.8784 19.2856L28.8744 19.29C28.3245 19.9015 27.5737 20.7366 26.1322 20.7366C24.6883 20.7366 23.9363 19.8975 23.388 19.2846C22.892 18.7314 22.6498 18.4873 22.1016 18.4873C21.5533 18.4873 21.3112 18.7314 20.8161 19.2846C20.2679 19.8975 19.5159 20.7366 18.0729 20.7366C16.6299 20.7366 15.8779 19.8975 15.3287 19.2846C14.8336 18.7314 14.5925 18.4873 14.0452 18.4873C13.4969 18.4873 13.2548 18.7314 12.7587 19.2846C12.2105 19.8975 11.4595 20.7366 10.0155 20.7366C8.57157 20.7366 7.81957 19.8975 7.27231 19.2846C6.77623 18.7314 6.53409 18.4873 5.98585 18.4873C5.4376 18.4873 5.19546 18.7314 4.69938 19.2846C4.15212 19.8975 3.40012 20.7366 1.95617 20.7366C1.41285 20.7366 0.971886 20.2911 0.971886 19.74C0.971886 19.1899 1.41285 18.7434 1.95617 18.7434C2.50442 18.7434 2.74656 18.4992 3.24264 17.9461C3.79088 17.3332 4.5419 16.494 5.98585 16.494C7.42979 16.494 8.18179 17.3332 8.72905 17.9461C9.22513 18.4992 9.46727 18.7434 10.0155 18.7434C10.5628 18.7434 10.8059 18.4992 11.301 17.9461C11.8492 17.3332 12.6012 16.494 14.0452 16.494C15.4872 16.494 16.2392 17.3332 16.7884 17.9461C17.2835 18.4992 17.5256 18.7434 18.0729 18.7434C18.6211 18.7434 18.8623 18.4992 19.3574 17.9461L19.3585 17.9449C19.9076 17.3321 20.6586 16.494 22.1016 16.494C23.5455 16.494 24.2965 17.3332 24.8448 17.9461C25.3409 18.4982 25.583 18.7434 26.1322 18.7434C26.6815 18.7434 26.9246 18.4982 27.4207 17.9451L27.4224 17.9431C27.9725 17.3314 28.7254 16.494 30.1678 16.494C31.6127 16.494 32.3647 17.3322 32.914 17.9451ZM3.48116 24.2297C3.07564 24.2297 2.74492 24.5646 2.74492 24.9752V25.4227C2.74492 25.8333 3.07564 26.1681 3.48116 26.1681H32.2509C32.6564 26.1681 32.9871 25.8333 32.9871 25.4227V24.9752C32.9871 24.5646 32.6564 24.2297 32.2509 24.2297H3.48116ZM32.2509 28.1619H3.48113C1.98895 28.1619 0.776306 26.9341 0.776306 25.4232V24.9757C0.776306 23.4649 1.98895 22.237 3.48113 22.237H32.2509C33.7421 22.237 34.9557 23.4649 34.9557 24.9757V25.4232C34.9557 26.9341 33.7421 28.1619 32.2509 28.1619ZM32.5447 35.4352C32.1815 35.8199 31.6372 36.0062 30.8822 36.0062H5.14113C4.38618 36.0062 3.84187 35.8199 3.47965 35.4352C2.89302 34.8143 2.84873 33.7539 2.87432 33.1758C2.92058 32.1384 4.19523 32.1274 4.24937 32.1274H31.775C31.8281 32.1274 33.1018 32.1384 33.149 33.1758C33.1756 33.7539 33.1313 34.8133 32.5447 35.4352ZM31.7755 30.1347H4.24996C2.65541 30.1347 0.994922 31.1483 0.908305 33.0877C0.860075 34.18 1.01953 35.7138 2.05598 36.813C2.8001 37.6013 3.83853 38 5.14172 38H30.8828C32.186 38 33.2234 37.6003 33.9675 36.813C35.006 35.7128 35.1654 34.179 35.1162 33.0867C35.0276 31.1483 33.3691 30.1347 31.7755 30.1347Z"
                  fill="#6DB23F"
                ></path>
              </svg>
              <p style={{ margin: 0, fontSize: "16px", fontWeight: "bold" }}>
                Foody
              </p>
            </div>
          }
          placement="left"
          closable={true}
          onClose={closeDrawer}
          open={drawerVisible}
        >
          <Menu
            mode="vertical"
            defaultSelectedKeys={["1"]}
            style={{ width: "100%", fontSize: "16px" }}
          >
            <Menu.Item
              key="1"
              icon={<HomeOutlined />}
              onClick={() => {
                router.push("/");
                closeDrawer();
              }}
            >
              Home
            </Menu.Item>
            <Menu.Item
              key="2"
              icon={<ShopOutlined />}
              onClick={() => {
                router.push("/accesories");
                closeDrawer();
              }}
            >
              Accessories
            </Menu.Item>
            <Menu.Item
              key="3"
              icon={<CommentOutlined />}
              onClick={() => {
                router.push("/reviews");
                closeDrawer();
              }}
            >
              Reviews
            </Menu.Item>
            <Menu.Item
              key="4"
              icon={<QuestionCircleOutlined />}
              onClick={() => {
                router.push("/help");
                closeDrawer();
              }}
            >
              Help
            </Menu.Item>
          </Menu>
        </Drawer>
      </div>

      <CartDrawer />
    </header>
  );
};

export default Header;
